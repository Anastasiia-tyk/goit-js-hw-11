{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '54459012-5e63b86c877094f2e2839be1c'; \n\nexport function getImagesByQuery(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n\n    return axios.get(BASE_URL, { params })\n        .then(response => response.data);\n}","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector('.gallery');\nconst loaderContainer = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n});\n\nexport function createGallery(images) {\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img \n        class=\"gallery-image\" \n        src=\"${image.webformatURL}\" \n        alt=\"${image.tags}\" \n        loading=\"lazy\"\n        />\n        </a>\n        <div class=\"info\">\n        <p class=\"text-info\"><b>Likes:</b>${image.likes}</p>\n        <p class=\"text-info\"><b>Views:</b>${image.views}</p>\n        <p class=\"text-info\"><b>Comments:</b>${image.comments}</p>\n        <p class=\"text-info\"><b>Downloads:</b>${image.downloads}</p>\n        </div>\n        </li>\n`).join('');\n\ngalleryList.insertAdjacentHTML('beforeend', markup);\nlightbox.refresh();\n}\n\nexport function showLoader() {\n    loaderContainer.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n    loaderContainer.classList.add('is-hidden');\n}\n\nexport function clearGallery() {\n    galleryList.innerHTML = '';\n}","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault();\n\n    const query = event.target.elements['search-text'].value.trim();\n\n    if (!query) {\n        iziToast.error({\n        message: 'Please enter a search query',\n        position: 'topRight',\n    });\n    return;\n}\n\nclearGallery();\nshowLoader();\n\ngetImagesByQuery(query)\n.then(data => {\n    if (data.hits.length === 0) {\n        iziToast.error({\n        message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        progressBar:'#B51B1B',\n        messageColor: '#FFFFFF',\n        });\n        return;\n    }\n\ncreateGallery(data.hits);\n    })\n.catch(() => {\n    iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n    });\n})\n.finally(() => {\n    hideLoader();\n});\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","galleryList","loaderContainer","lightbox","SimpleLightbox","createGallery","images","markup","image","showLoader","hideLoader","clearGallery","form","onSearch","event","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEI,OAAOE,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,EAChC,KAAKE,GAAYA,EAAS,IAAI,CACvC,CCXA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAkB,SAAS,cAAc,SAAS,EAElDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,wCAECA,EAAM,aAAa;AAAA;AAAA;AAAA,eAG5CA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKmBA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,CAG9D,EAAE,KAAK,EAAE,EAEVP,EAAY,mBAAmB,YAAaM,CAAM,EAClDJ,EAAS,QAAO,CAChB,CAEO,SAASM,GAAa,CACzBP,EAAgB,UAAU,OAAO,WAAW,CAChD,CAEO,SAASQ,GAAa,CACzBR,EAAgB,UAAU,IAAI,WAAW,CAC7C,CAEO,SAASS,GAAe,CAC3BV,EAAY,UAAY,EAC5B,CCzCA,MAAMW,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEpB,MAAMjB,EAAQiB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,EAE7D,GAAI,CAACjB,EAAO,CACRkB,EAAS,MAAM,CACf,QAAS,8BACT,SAAU,UAClB,CAAK,EACD,MACJ,CAEAJ,EAAY,EACZF,EAAU,EAEVb,EAAiBC,CAAK,EACrB,KAAKmB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACf,QACI,2EACJ,SAAU,WACV,gBAAiB,UACjB,YAAY,UACZ,aAAc,SACtB,CAAS,EACD,MACJ,CAEJV,EAAcW,EAAK,IAAI,CACnB,CAAC,EACJ,MAAM,IAAM,CACTD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAClB,CAAK,CACL,CAAC,EACA,QAAQ,IAAM,CACXL,EAAU,CACd,CAAC,CACD"}